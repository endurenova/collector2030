<!--
※ 상품진열 공통소스
-->
<link
  rel="stylesheet"
  href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
/>
<li id="anchorBoxId_{$product_no}">
  <div class="prdList__item">
    <div class="thumbnail">
      <a href="{$link_product_detail}">
        <img src="{$image_medium}" id="{$image_medium_id}" alt="{$seo_alt_tag}" loading="lazy" />
        <span module="product_Imagestyle">
          <span class="prdIcon {$icon_class_name}" style="background-image: url('{$icon_url}')"></span>
        </span>
      </a>
      <div class="likeButton {$disp_likeprd_class}">
        <button type="button">{$disp_likeprd_icon} <strong>{$disp_likeprd_count}</strong></button>
      </div>
      <div class="badge">
        <span></span>
      </div>
      <div class="icon__box">
        <span class="wish">{$list_wish_icon}WISH</span>
        <span class="cart">{$basket_icon}ADD</span>
        <span class="option">{$option_preview_icon}OPTION</span>
      </div>
    </div>
    <div class="description" ec-data-custom="{$product_custom}" ec-data-price="{$product_price}">
      <ul module="product_ListItem" class="spec">
        <li class="{$item_display|display}">
          <strong class="title {$item_title_display|display}">{$item_title} :</strong>
          {$item_content}
        </li>
        <li class="{$item_display|display}">
          <strong class="title {$item_title_display|display}">{$item_title} :</strong>
          {$item_content}
        </li>
      </ul>
      <div class="name">
        <a href="{$link_product_detail}" class="{$product_name_display|display}">
          <span class="title {$product_name_title_display|display}">{$product_name_title} :</span>
          {$product_name}
        </a>
      </div>
      <a href="{$link_product_detail}" class="main_list_detail">
        <span>detail</span>
        <span class="material-symbols-outlined"> arrow_right_alt </span>
      </a>
      <div class="icon">
        {$soldout_icon} {$stock_icon} {$recommend_icon} {$new_icon} {$product_icons} {$today_arrival_icon}
        {$pickup_icon} {$benefit_icons}
      </div>
    </div>

    <div class="icon__display">
      <div class="wish-heart">
        <svg class="heart-icon" viewBox="467 392 58 57" xmlns="http://www.w3.org/2000/svg">
          <g class="Group" fill="none" fill-rule="evenodd" transform="translate(467 392)">
            <path
              class="heart"
              d="M29.144 20.773c-.063-.13-4.227-8.67-11.44-2.59C7.63 28.795 28.94 43.256 29.143 43.394c.204-.138 21.513-14.6 11.44-25.213-7.214-6.08-11.377 2.46-11.44 2.59z"
              fill="#AAB8C2"
            />
            <circle id="main-circ" fill="#E2264D" opacity="0" cx="29.5" cy="29.5" r="1.5" />

            <g class="grp7" opacity="0" transform="translate(7 6)">
              <circle class="oval1" fill="#9CD8C3" cx="2" cy="6" r="2" />
              <circle class="oval2" fill="#8CE8C3" cx="5" cy="2" r="2" />
            </g>

            <g class="grp6" opacity="0" transform="translate(0 28)">
              <circle class="oval1" fill="#CC8EF5" cx="2" cy="7" r="2" />
              <circle class="oval2" fill="#91D2FA" cx="3" cy="2" r="2" />
            </g>

            <g class="grp3" opacity="0" transform="translate(52 28)">
              <circle class="oval2" fill="#9CD8C3" cx="2" cy="7" r="2" />
              <circle class="oval1" fill="#8CE8C3" cx="4" cy="2" r="2" />
            </g>

            <g class="grp2" opacity="0" transform="translate(44 6)">
              <circle class="oval2" fill="#CC8EF5" cx="5" cy="6" r="2" />
              <circle class="oval1" fill="#CC8EF5" cx="2" cy="2" r="2" />
            </g>

            <g class="grp5" opacity="0" transform="translate(14 50)">
              <circle class="oval1" fill="#91D2FA" cx="6" cy="5" r="2" />
              <circle class="oval2" fill="#91D2FA" cx="2" cy="2" r="2" />
            </g>

            <g class="grp4" opacity="0" transform="translate(35 50)">
              <circle class="oval1" fill="#F48EA7" cx="6" cy="5" r="2" />
              <circle class="oval2" fill="#F48EA7" cx="2" cy="2" r="2" />
            </g>

            <g class="grp1" opacity="0" transform="translate(24)">
              <circle class="oval1" fill="#9FC7FA" cx="2.5" cy="3" r="2" />
              <circle class="oval2" fill="#9FC7FA" cx="7.5" cy="2" r="2" />
            </g>
          </g>
        </svg>
      </div>
      <div class="add-cart">
        <span class="material-symbols-outlined cart-icon"> add_shopping_cart </span>
      </div>
    </div>
  </div>
</li>
<li id="anchorBoxId_{$product_no}">
  <div class="prdList__item">
    <div class="thumbnail">
      <a href="{$link_product_detail}">
        <img src="{$image_medium}" id="{$image_medium_id}" alt="{$seo_alt_tag}" loading="lazy" />
        <span module="product_Imagestyle">
          <span class="prdIcon {$icon_class_name}" style="background-image: url('{$icon_url}')"> </span>
        </span>
      </a>
      <div class="likeButton {$disp_likeprd_class}">
        <button type="button">{$disp_likeprd_icon} <strong>{$disp_likeprd_count}</strong></button>
      </div>
      <div class="badge"><span></span></div>
      <div class="icon__box">
        <span class="wish">{$list_wish_icon}WISH</span>
        <span class="cart">{$basket_icon}ADD</span>
        <span class="option">{$option_preview_icon}OPTION</span>
      </div>
    </div>
    <div class="description" ec-data-custom="{$product_custom}" ec-data-price="{$product_price}">
      <ul module="product_ListItem" class="spec">
        <li class="{$item_display|display}">
          <strong class="title {$item_title_display|display}">{$item_title} :</strong>
          {$item_content}
        </li>
        <li class="{$item_display|display}">
          <strong class="title {$item_title_display|display}">{$item_title} :</strong>
          {$item_content}
        </li>
      </ul>
      <div class="name">
        <a href="{$link_product_detail}" class="{$product_name_display|display}">
          <span class="title {$product_name_title_display|display}">{$product_name_title} :</span>
          {$product_name}
        </a>
      </div>
      <a href="{$link_product_detail}" class="main_list_detail">
        <span>detail</span>
        <span class="material-symbols-outlined"> arrow_right_alt </span>
      </a>
      <div class="icon">
        {$soldout_icon} {$stock_icon} {$recommend_icon} {$new_icon} {$product_icons} {$today_arrival_icon}
        {$pickup_icon} {$benefit_icons}
      </div>
    </div>

    <div class="icon__display">
      <div class="wish-heart">
        <svg class="heart-icon" viewBox="467 392 58 57" xmlns="http://www.w3.org/2000/svg">
          <g class="Group" fill="none" fill-rule="evenodd" transform="translate(467 392)">
            <path
              class="heart"
              d="M29.144 20.773c-.063-.13-4.227-8.67-11.44-2.59C7.63 28.795 28.94 43.256 29.143 43.394c.204-.138 21.513-14.6 11.44-25.213-7.214-6.08-11.377 2.46-11.44 2.59z"
              fill="#AAB8C2"
            />
            <circle id="main-circ" fill="#E2264D" opacity="0" cx="29.5" cy="29.5" r="1.5" />

            <g class="grp7" opacity="0" transform="translate(7 6)">
              <circle class="oval1" fill="#9CD8C3" cx="2" cy="6" r="2" />
              <circle class="oval2" fill="#8CE8C3" cx="5" cy="2" r="2" />
            </g>

            <g class="grp6" opacity="0" transform="translate(0 28)">
              <circle class="oval1" fill="#CC8EF5" cx="2" cy="7" r="2" />
              <circle class="oval2" fill="#91D2FA" cx="3" cy="2" r="2" />
            </g>

            <g class="grp3" opacity="0" transform="translate(52 28)">
              <circle class="oval2" fill="#9CD8C3" cx="2" cy="7" r="2" />
              <circle class="oval1" fill="#8CE8C3" cx="4" cy="2" r="2" />
            </g>

            <g class="grp2" opacity="0" transform="translate(44 6)">
              <circle class="oval2" fill="#CC8EF5" cx="5" cy="6" r="2" />
              <circle class="oval1" fill="#CC8EF5" cx="2" cy="2" r="2" />
            </g>

            <g class="grp5" opacity="0" transform="translate(14 50)">
              <circle class="oval1" fill="#91D2FA" cx="6" cy="5" r="2" />
              <circle class="oval2" fill="#91D2FA" cx="2" cy="2" r="2" />
            </g>

            <g class="grp4" opacity="0" transform="translate(35 50)">
              <circle class="oval1" fill="#F48EA7" cx="6" cy="5" r="2" />
              <circle class="oval2" fill="#F48EA7" cx="2" cy="2" r="2" />
            </g>

            <g class="grp1" opacity="0" transform="translate(24)">
              <circle class="oval1" fill="#9FC7FA" cx="2.5" cy="3" r="2" />
              <circle class="oval2" fill="#9FC7FA" cx="7.5" cy="2" r="2" />
            </g>
          </g>
        </svg>
      </div>
      <div class="add-cart">
        <span class="material-symbols-outlined cart-icon"> add_shopping_cart </span>
      </div>
    </div>
  </div>
</li>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const icons = document.querySelectorAll('.prdList.grid4 .prdList__item .icon img.icon_img');
    const prices = document.querySelectorAll('.xans-product-listitem li:nth-of-type(2) > span:nth-of-type(1)');
    Array.from(prices).forEach(e => {
      console.log(e.textContent);
      e.closest('.description')
        .querySelector('.icon')
        .insertAdjacentHTML('beforeend', `<strong class='product-item__price'>${e.textContent}</strong>`);
    });
    Array.from(icons).forEach(e => {
      // 품절 아이콘 표시 SOLD OUT 텍스트로 바꾸는 코드
      if (e.getAttribute('alt') === '품절') {
        e.closest('.icon').insertAdjacentHTML('beforeend', `<span class='sold-out'>SOLD OUT</span>`);
        e.closest('.icon').querySelector('strong').classList.add('sold-out__price');
      }
    });
  });
</script>
